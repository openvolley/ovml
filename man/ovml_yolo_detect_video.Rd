% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/yolo.R
\name{ovml_yolo_detect_video}
\alias{ovml_yolo_detect_video}
\title{Run YOLO inference on a video (sampled frames + timestamps)}
\usage{
ovml_yolo_detect_video(
  net,
  video_file,
  start_time = 0,
  end_time,
  duration,
  fps_extract = 5,
  fps_video,
  conf = 0.6,
  nms_conf = 0.4,
  classes,
  batch_size = 4,
  outdir,
  keep_frames = FALSE,
  format = "jpg",
  jpg_quality = 1,
  debug = FALSE
)
}
\arguments{
\item{net}{YOLO network as returned by \code{\link[=ovml_yolo]{ovml_yolo()}}.}

\item{video_file}{Path to a video file.}

\item{start_time}{Numeric seconds from the start of the video (default 0).}

\item{end_time}{Numeric seconds from the start of the video (optional).}

\item{duration}{Numeric seconds (optional). If \code{end_time} is missing, \code{duration} is used.}

\item{fps_extract}{Numeric. Frames per second to extract (sampling rate). If \code{NULL},
all frames are extracted.}

\item{fps_video}{Numeric. Video framerate. If missing, inferred via \code{av::av_video_info()}.
Used only to compute timestamps when \code{fps_extract} is \code{NULL}.}

\item{conf, nms_conf, classes, batch_size}{Passed to \code{\link[=ovml_yolo_detect]{ovml_yolo_detect()}}.}

\item{outdir}{Output directory for extracted frames. If missing, a temp dir is used.}

\item{keep_frames}{Logical; if \code{FALSE}, extracted frames are deleted on exit.}

\item{format}{"jpg" or "png" (passed to \code{\link[ovideo:ov_video_frames]{ovideo::ov_video_frames()}}).}

\item{jpg_quality}{Numeric 1-31 (passed to \code{\link[ovideo:ov_video_frames]{ovideo::ov_video_frames()}} if \code{format="jpg"}).}

\item{debug}{Logical; passed to \code{\link[ovideo:ov_video_frames]{ovideo::ov_video_frames()}}.}
}
\value{
A list with elements: \code{detections}, \code{frames}, \code{meta}.
}
\description{
This is a convenience wrapper around \code{\link[ovideo:ov_video_frames]{ovideo::ov_video_frames()}} and
\code{\link[=ovml_yolo_detect]{ovml_yolo_detect()}}, adding time-windowing, frame sampling and timestamps.
}
\examples{
\dontrun{
  library(ovideo)
  v <- ov_example_video(1)
  dn <- ovml_yolo()
  out <- ovml_yolo_detect_video(dn, v, start_time = 0, duration = 3, fps_extract = 5)
  head(out$detections)
}
}
\seealso{
\code{\link[=ovml_yolo]{ovml_yolo()}}
}
